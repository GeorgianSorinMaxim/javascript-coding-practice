<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>JavaScript code</title>
    <script>
      // stairCase 
      // A function that creates n times a line consting of spaces (' ') and hashes ('#'). Each line contains incremented count of hashes and decremented count of spaces form 1 to n, respectively n down to 1.
      function stairCase(n) {
        var res = '';
        for (var i = 1; i<=n; i++) {
          if (i < n) {
            var x = n-i;
            res = ' '.repeat(x) + '#'.repeat(n-x);
          } else {
            res = '#'.repeat(i);  
          }
          console.log(res);
        }
      }

      function stairCaseAlternative(n) {
        var line = Array(n + 1).fill(' ');
        line[n] = '\n';
        for (var i = n - 1; i >= 0; i--) {
          line[i] = '#';
          console.log(line.join(''));
        }
      }

      console.log('------ Stair case -----');
      stairCase(6);
      // stairCaseAlternative(6);
      // Input: n = 6
      // Output 
      //      #
      //     ##
      //    ###
      //   ####
      //  #####
      // ######


      // fizzBuzz
      // A function that prints the numbers from 1 to n (parameter). But for multiples of three print “Fizz” instead of the number and for the multiples of five print “Buzz”. For numbers which are multiples of both three and five print “FizzBuzz”.    
      function fizzBuzz(n) {
        for (var x = 1; x <= n; x++) {    
          if(x % 3 && x % 5) {
            console.log(x);
          } else {
            if(x % 3 === 0 && x % 5 === 0) {
              console.log('FizzBuzz');
            } else if(x % 3 === 0) {
              console.log('Fizz');
            } else if(x % 5 === 0) {
              console.log('Buzz');
            } 
          }
        }
      }

      console.log('------ Fizz Buzz -----');
      fizzBuzz(4);
      // Input: n = 4
      // Output 
      // 1
      // 2
      // Fizz
      // 4


      // Credit card verification 
      // The function receives a string containing numbers separated by a new line.
      // The function verifies a each number in the string against its included check digit. This number must pass the following test: 
      // First, reverse the digits of the given number.
      // For each digit in an odd position double the value of every second digit. If the result of this doubling operation is greater than 9 (e.g., 8 × 2 = 16), then add the digits of the product (e.g., 16: 1 + 6 = 7, 18: 1 + 8 = 9).
      // For each digit in an even position make their sum (A).
      // For each digit in an odd position make their sum (B).
      // Add the sum of the even digits (A) to the sum of the odd digits (B).
      // If the total modulo 10 is equal to 0 (if the total ends in zero) then the number is valid according to the Luhn formula; else it is not valid.
      function checkSum(input) {
        var inputArray = input.split("\n");
            
        for (var k = 0; k < inputArray.length; k++) {
          var line = inputArray[k];          

          var splitNumber = line.split('');
          var reversedNumber = splitNumber.reverse();
          var makeReversedString = reversedNumber.join('');

          // console.log(makeReversedString);
            
          var A = 0;
          var eachValue;

          for (var i = 0; i < reversedNumber.length; i++) {
            if (i % 2 === 0) {
              eachValue = parseInt(reversedNumber[i], 10);
              
              if(!isNaN(eachValue)) {
                // console.log(eachValue);
                A += eachValue;
              }
            }
          }

          var oddArray = [];
          for (var i = 0; i < reversedNumber.length; i++) {
            if (i % 2 === 1) {
              eachValue = parseInt(reversedNumber[i], 10);

              if(!isNaN(eachValue)) {
                oddArray.push(eachValue * 2);
              }
            }   
          }
            
          for (var i = 0; i < oddArray.length; i++) {
            // console.log(oddArray[i]);

            if (oddArray[i] > 9) {
              var str = oddArray[i].toString();
              var sum = 0;

              for (var j = 0; j < str.length; j++) {
                sum += parseInt(str.charAt(j), 10);
              }
       
              oddArray[i] = sum;
            }
          }
          
          var B = 0;
          
          for (var i = 0; i < oddArray.length; i++) {
            // console.log(oddArray[i]);
            B += oddArray[i];
          }
            
          // console.log(A);
          // console.log(B);
            
          var checksum = A + B;
          // console.log(checksum);
            
          if (checksum % 10 === 0) {
            console.log('Yes');  
          } else {
            console.log('No');
          }
        }
      }

      var input = `99447398617\n4532595229395528\n2332595229395528`;
      console.log('------ Credit card checksum -----');
      checkSum(input);
      // Output
      // No
      // Yes
      // No
    </script>
  </head>

  <body>
    <p>JavaScript code - check the console</p>
  </body>
</html>
